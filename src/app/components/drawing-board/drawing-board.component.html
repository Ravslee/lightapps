<div class="drawing-app">
    <div class="toolbar">
      <!-- Brush Type Selector -->
      <div class="brush-types">
        <button [class.active]="brushType === 'pen'" mat-icon-button (click)="changeBrushType('pen')" title="Pen" >
          <mat-icon>brush</mat-icon>
        </button>
        <button [class.active]="brushType === 'marker'" mat-icon-button (click)="changeBrushType('marker')" title="Marker">
          <mat-icon>format_color_fill</mat-icon>
        </button>
        <button [class.active]="brushType === 'pencil'" mat-icon-button (click)="changeBrushType('pencil')" title="Pencil">
          <mat-icon>edit</mat-icon>
        </button>
        <button [class.active]="brushType === 'airbrush'" mat-icon-button (click)="changeBrushType('airbrush')" title="Airbrush">
          <mat-icon>blur_on</mat-icon>
        </button>
        <button [class.active]="brushType === 'eraser'" mat-icon-button (click)="changeBrushType('eraser')" title="Eraser">
          <mat-icon>ink_eraser</mat-icon>
        </button>
      </div>
  
      <div class="color-picker">
        <input type="color" [(ngModel)]="strokeColor" (change)="changeColor(strokeColor)">
        <span>Color</span>
      </div>
      
      <div class="brush-size">
        <label>Size:</label>
        <input type="range" min="1" max="50" [(ngModel)]="strokeWidth">
        <span>{{ strokeWidth }}px</span>
      </div>
      
      <div class="opacity-control" *ngIf="brushType !== 'eraser'">
        <label>Opacity:</label>
        <input type="range" min="0.1" max="1" step="0.1" [(ngModel)]="opacity">
        <span>{{ opacity * 100 }}%</span>
      </div>
      
      <button class="clear" mat-icon-button (click)="clearCanvas()">
        <mat-icon>delete</mat-icon>
      </button>
      
      <button class="download" mat-icon-button (click)="downloadDrawing()">
        <mat-icon>download</mat-icon>
      </button>
    </div>
    
    <div class="canvas-container">
      <canvas #canvas
              (mousedown)="startDrawing($event)"
              (mousemove)="draw($event)"
              (mouseup)="stopDrawing()"
              (mouseleave)="stopDrawing()"
              (touchstart)="startDrawing($event)"
              (touchmove)="draw($event)"
              (touchend)="stopDrawing()">
      </canvas>
    </div>
  </div>